<template>
    <div class="main-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <lightning-icon icon-name="standard:dashboard" alternative-text="Dashboard" size="small"></lightning-icon>
                <span class="header-text">Org Horizon</span>
            </div>
            
            <lightning-vertical-navigation selected-item={selectedItem} onselect={handleSelect} class="navigation">
                <lightning-vertical-navigation-section label="Monitoring">
                    <lightning-vertical-navigation-item label="Overview" name="org_overview" icon-name="utility:chart"></lightning-vertical-navigation-item>
                    <lightning-vertical-navigation-item label="Licence Utilization" name="licence_utilization" icon-name="utility:identity"></lightning-vertical-navigation-item>
                    <lightning-vertical-navigation-item label="User Adoption" name="user_adoption" icon-name="utility:people"></lightning-vertical-navigation-item>
                </lightning-vertical-navigation-section>

                <lightning-vertical-navigation-section label="Security">
                    <lightning-vertical-navigation-item label="Login Forensics" name="login_forensics" icon-name="utility:shield"></lightning-vertical-navigation-item>
                    <lightning-vertical-navigation-item-badge label="Setup Audit" name="setup_audit" badge-count={updatedCount} icon-name="utility:settings"></lightning-vertical-navigation-item-badge>
                </lightning-vertical-navigation-section>

                <lightning-vertical-navigation-section label="Tools">
                    <lightning-vertical-navigation-item-icon label="Trust Status" name="trust_status" icon-name="utility:world"></lightning-vertical-navigation-item-icon>
                    <lightning-vertical-navigation-item-icon label="Optimizer" name="optimizer" icon-name="utility:rules"></lightning-vertical-navigation-item-icon>
                </lightning-vertical-navigation-section>
            </lightning-vertical-navigation>
        </div>

        <!-- Main Content Area -->
        <div class="content-area">
            <!-- Header for the content area -->
            <div class="content-header">
                <h1 class="slds-text-heading_medium">{pageTitle}</h1>
                <div class="actions">
                    <lightning-button-icon icon-name="utility:refresh" variant="border-filled" alternative-text="Refresh"></lightning-button-icon>
                    <lightning-button-icon icon-name="utility:settings" variant="border-filled" alternative-text="Settings" class="slds-m-left_x-small"></lightning-button-icon>
                </div>
            </div>

            <!-- Dynamic Content -->
            <div class="content-body">
                <template lwc:if={isOverview}>
                    <c-org-overview></c-org-overview>
                </template>

                <template lwc:elseif={isLoginForensics}>
                    <c-login-forensics></c-login-forensics>
                </template>

                <template lwc:elseif={isSetupAudit}>
                    <c-setup-audit></c-setup-audit>
                </template>
                
                <template lwc:else>
                    <div class="placeholder-state">
                        <lightning-icon icon-name="utility:info_alt" size="large" class="slds-m-bottom_medium"></lightning-icon>
                        <h2 class="slds-text-heading_small">Coming Soon</h2>
                        <p class="slds-text-color_weak">The {pageTitle} module is currently under development.</p>
                    </div>
                </template>
            </div>
        </div>
    </div>
</template>